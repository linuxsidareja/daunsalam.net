<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Tebak Warna [JavaScript] :: yan[at]daunsalam[dot]net</title>

<style type="text/css">
body { margin : 27px 50px 50px 50px; }
form { margin : 0px; }
.main { border : 3px solid #808080; background : #e0e0e0; }
.nomor { padding : 0px 10px 0px 10px; font-family : sans-serif; color : #A0A0A0; background : #F0F0F0; border : 1px solid #C0C0C0; font-size : 18px; }
.kwterka { border : 1px solid #404040; background : #FFFFFF; width : 25px; height : 25px; margin : 0px; }
.kwjawab { border : 1px dotted #404040; background : #FFFFFF; width : 25px; height : 25px; margin : 7px 0px 0px 0px; }
.kwrespon { border : 1px solid #404040; background : #FFFFFF; width : 15px; height : 15px; margin : 5px 0px 5px 0px; }
.tblcek { width : 35px; height : 25px; margin : 0px; }
.bantuan { font-size : 12px; color : #606060; background : #FFFFF0; border : 1px dashed #C0C0C0; padding : 10px; }
</style>

<script type="text/javascript">

var warnarandom = Array(0,0,0,0);
var warnaterka = Array(0,0,0,0);
var hitam = Array(0,0,0,0);
var putih = Array(0,0,0,0);
var ih = 0;
var ip = 0;
var sudahujix = Array(0,0,0,0);
var sudahujiy = Array(0,0,0,0);
var warna = Array("#FF0000","#00FF00","#0000FF","#FFFF00","#00FFFF","#FF00FF");
var barisaktif = 0;
var wawal = 0;
var wakhir = 0;

function waktu(aksi) {
  wkt = new Date();
  if (aksi == "start") {
    wawal = Math.round(wkt.getTime() / 1000);
  }
  if (aksi == "stop") {
    wakhir = Math.round(wkt.getTime() / 1000);
  }
}

function gantiwarna(baris,a) {
  if (baris == barisaktif) {
    warnaterka[a] = warnaterka[a] + 1;
    if (warnaterka[a] > 5) { warnaterka[a] = 0; }
    indexwarna = warnaterka[a];
    elemenke = (baris * 4) + a;
    document.terka.elements[elemenke].style.background = warna[indexwarna];
  }
}

function setkw(opsi,awal,akhir) {
  for (i = awal; i <= akhir; i++) {
    document.terka.elements[i].style.visibility = opsi;
  }
}

function settblcek(opsi,i) {
  document.periksa.elements[i].style.visibility = opsi;
}

function ujiwarna() {
  ih = 0;
  ip = 0;
  for (i = 0; i < 4; i++) {
    sudahujix[i] = 0;
    sudahujiy[i] = 0;
  }
  for (i = 0; i < 4; i++) {
    if (warnaterka[i] == warnarandom[i]) {
      hitam[ih] = 1;
      ih = ih + 1;
      sudahujix[i] = 1;
      sudahujiy[i] = 1;
    }
  }
  for (x = 0; x < 4; x++) {
    for (y = 0; y < 4; y++) {
      if (warnaterka[x] == warnarandom[y]) {
        if ((sudahujix[x] == 0) && (sudahujiy[y] == 0)) {
          putih[ip] = 1;
          ip = ip + 1;
          sudahujix[x] = 1;
          sudahujiy[y] = 1;
        }
      }
    }
  }
}

function tampilrespon() {
  a = (barisaktif * 4);
  if (barisaktif < 7) {
    for (i = 0; i < 4; i++) {
      if (hitam[i] == 1) {
        document.respon.elements[a].style.visibility = "visible";
        document.respon.elements[a].style.background = "#000000";
        a = a + 1;
      }
    }
    for (i = 0; i < 4; i++) {
      if (putih[i] == 1) {
        document.respon.elements[a].style.visibility = "visible";
        document.respon.elements[a].style.background = "#FFFFFF";
        a = a + 1;
      }
    }
  }
  for (i = 0;  i < 4; i++) { hitam[i] = 0; putih[i] = 0; }
}

function buatkeputusan() {
  solusi = true;
  selesai = 0;
  for (i = 0; i < 4; i++) {
    if (warnaterka[i] != warnarandom[i]) {
      solusi = false;
    }
  }
  if (solusi == true) {
    tampilkanjawab();
    barisaktif = 9;
    waktu("stop");
    totalwaktu = wakhir - wawal;
    if (totalwaktu < 10) { tipe = "Beruntung"; }
    if (totalwaktu > 9 && totalwaktu < 30 ) { tipe = "Jenius"; }
    if (totalwaktu > 29 && totalwaktu < 60 ) { tipe = "Hebat"; }
    if (totalwaktu > 59) { tipe = "Teliti"; }
    kalimat = "Anda Memang Seorang yang " + tipe + " dan Berhasil dalam " + String(totalwaktu) + " detik";
    alert(kalimat);
    selesai = 1;
  }
  if ((barisaktif >= 6) && (solusi == false)) {
    tampilkanjawab();
    barisaktif = 9;
    waktu("stop");
    totalwaktu = wakhir - wawal;
    kalimat = "Anda Mengerjakan Selama " + String(totalwaktu) + " detik, dan Gagal :)";
    alert(kalimat);
  }
  return selesai;
}

function tampilkanjawab() {
  for (i = 0; i < 4; i++) {
    indexwarna = warnarandom[i];
    document.terka.elements[28+i].value = "";
    document.terka.elements[28+i].style.background = warna[indexwarna];
  }
}

function cekjawab(baris) {
  if (barisaktif < 7) {
    settblcek("hidden",baris);
    ujiwarna();
    tampilrespon();
    kptsn = buatkeputusan();
    if (kptsn == 0) {
      if (baris < 6) {
        a = (baris + 1) * 4;
        b = a + 3;
        setkw("visible",a,b);
        settblcek("visible",baris + 1);
      }
    }
    barisaktif = barisaktif + 1;
    warnaterka[0] = 9; warnaterka[1] = 9; warnaterka[2] = 9; warnaterka[3] = 9;
  }
}

function menyerah() {
  tampilkanjawab();
  if (barisaktif < 7) {
    alert("Kok Menyerah ?");
    settblcek("hidden",barisaktif);
  }
  barisaktif = 9;
}

function inisialisasi() {
  barisaktif = 0;
  warnaterka[0] = 9; warnaterka[1] = 9; warnaterka[2] = 9; warnaterka[3] = 9;
  warnarandom[0] = Math.round(Math.random() * 5);
  warnarandom[1] = Math.round(Math.random() * 5);
  warnarandom[2] = Math.round(Math.random() * 5);
  warnarandom[3] = Math.round(Math.random() * 5);
  setkw("hidden",4,27);
  settblcek("visible",0);
  for (i = 1;  i < 7;  i++) { settblcek("hidden",i) }
  for (i = 0;  i < 32; i++) { document.terka.elements[i].style.background = "#FFFFFF"; }
  for (i = 28; i < 32; i++) { document.terka.elements[i].value = "?"; }
  for (i = 0;  i < 28; i++) { document.respon.elements[i].style.visibility = "hidden"; }
  for (i = 0;  i < 4; i++)  { hitam[i] = 0; putih[i] = 0; }
  waktu("start");
}

</script>

</head>
<body onLoad="inisialisasi()">

<table border="0" cellspacing="0" cellpadding="0">
<tr><td valign="top">


<!-- bagian game ########################################################## -->
<table border="0" cellspacing="20" cellpadding="0" class="main">
<tr><td valign="top">

<form action="" name="terka" onSubmit="return false"> <!-- form untuk menyusun warna oleh pemain -->
<table border="0" cellspacing="7" cellpadding="0">
<tr><td class="nomor">1</td>
<td><input type="button" value="" name="a1" class="kwterka" onClick="gantiwarna(0,0)"></td>
<td><input type="button" value="" name="a2" class="kwterka" onClick="gantiwarna(0,1)"></td>
<td><input type="button" value="" name="a3" class="kwterka" onClick="gantiwarna(0,2)"></td>
<td><input type="button" value="" name="a4" class="kwterka" onClick="gantiwarna(0,3)"></td>
</tr>
<tr><td class="nomor">2</td>
<td><input type="button" value="" name="b1" class="kwterka" onClick="gantiwarna(1,0)"></td>
<td><input type="button" value="" name="b2" class="kwterka" onClick="gantiwarna(1,1)"></td>
<td><input type="button" value="" name="b3" class="kwterka" onClick="gantiwarna(1,2)"></td>
<td><input type="button" value="" name="b4" class="kwterka" onClick="gantiwarna(1,3)"></td>
</tr>
<tr><td class="nomor">3</td>
<td><input type="button" value="" name="c1" class="kwterka" onClick="gantiwarna(2,0)"></td>
<td><input type="button" value="" name="c2" class="kwterka" onClick="gantiwarna(2,1)"></td>
<td><input type="button" value="" name="c3" class="kwterka" onClick="gantiwarna(2,2)"></td>
<td><input type="button" value="" name="c4" class="kwterka" onClick="gantiwarna(2,3)"></td>
</tr>
<tr><td class="nomor">4</td>
<td><input type="button" value="" name="d1" class="kwterka" onClick="gantiwarna(3,0)"></td>
<td><input type="button" value="" name="d2" class="kwterka" onClick="gantiwarna(3,1)"></td>
<td><input type="button" value="" name="d3" class="kwterka" onClick="gantiwarna(3,2)"></td>
<td><input type="button" value="" name="d4" class="kwterka" onClick="gantiwarna(3,3)"></td>
</tr>
<tr><td class="nomor">5</td>
<td><input type="button" value="" name="e1" class="kwterka" onClick="gantiwarna(4,0)"></td>
<td><input type="button" value="" name="e2" class="kwterka" onClick="gantiwarna(4,1)"></td>
<td><input type="button" value="" name="e3" class="kwterka" onClick="gantiwarna(4,2)"></td>
<td><input type="button" value="" name="e4" class="kwterka" onClick="gantiwarna(4,3)"></td>
</tr>
<tr><td class="nomor">6</td>
<td><input type="button" value="" name="f1" class="kwterka" onClick="gantiwarna(5,0)"></td>
<td><input type="button" value="" name="f2" class="kwterka" onClick="gantiwarna(5,1)"></td>
<td><input type="button" value="" name="f3" class="kwterka" onClick="gantiwarna(5,2)"></td>
<td><input type="button" value="" name="f4" class="kwterka" onClick="gantiwarna(5,3)"></td>
</tr>
<tr><td class="nomor">7</td>
<td><input type="button" value="" name="g1" class="kwterka" onClick="gantiwarna(6,0)"></td>
<td><input type="button" value="" name="g2" class="kwterka" onClick="gantiwarna(6,1)"></td>
<td><input type="button" value="" name="g3" class="kwterka" onClick="gantiwarna(6,2)"></td>
<td><input type="button" value="" name="g4" class="kwterka" onClick="gantiwarna(6,3)"></td>
</tr>
<tr><td>&nbsp;</td>
<td><input type="button" value="?" name="jwb1" class="kwjawab"></td>
<td><input type="button" value="?" name="jwb2" class="kwjawab"></td>
<td><input type="button" value="?" name="jwb3" class="kwjawab"></td>
<td><input type="button" value="?" name="jwb4" class="kwjawab"></td>
</tr>
</table>
</form>

<br>
<form action="" name="menu" onSubmit="return false"> <!-- form tombol mulai dan menyerah -->
<table border="0" cellspacing="7" cellpadding="0">
<tr><td>
<input type="button" value="Mulai"  onClick="inisialisasi()">
<input type="button" value="Menyerah"  onClick="menyerah()">
</td></tr>
</table>
</form>

</td><td valign="top">

<form action="" name="periksa" onSubmit="return false"> <!-- form tombol untuk memeriksa satu baris -->
<table border="0" cellspacing="7" cellpadding="0">
<tr><td><input type="button" value="OK" name="z1" onClick="cekjawab(0)" class="tblcek"></td></tr>
<tr><td><input type="button" value="OK" name="z1" onClick="cekjawab(1)" class="tblcek"></td></tr>
<tr><td><input type="button" value="OK" name="z1" onClick="cekjawab(2)" class="tblcek"></td></tr>
<tr><td><input type="button" value="OK" name="z1" onClick="cekjawab(3)" class="tblcek"></td></tr>
<tr><td><input type="button" value="OK" name="z1" onClick="cekjawab(4)" class="tblcek"></td></tr>
<tr><td><input type="button" value="OK" name="z1" onClick="cekjawab(5)" class="tblcek"></td></tr>
<tr><td><input type="button" value="OK" name="z1" onClick="cekjawab(6)" class="tblcek"></td></tr>
</table>
</form>

</td><td valign="top">

<form action="" name="respon" onSubmit="return false"> <!-- form respon oleh komputer -->
<table border="0" cellspacing="7" cellpadding="0">
<tr>
<td><input type="button" value="" name="ra1" class="kwrespon"></td>
<td><input type="button" value="" name="ra2" class="kwrespon"></td>
<td><input type="button" value="" name="ra3" class="kwrespon"></td>
<td><input type="button" value="" name="ra4" class="kwrespon"></td>
</tr>
<tr>
<td><input type="button" value="" name="rb1" class="kwrespon"></td>
<td><input type="button" value="" name="rb2" class="kwrespon"></td>
<td><input type="button" value="" name="rb3" class="kwrespon"></td>
<td><input type="button" value="" name="rb4" class="kwrespon"></td>
</tr>
<tr>
<td><input type="button" value="" name="rc1" class="kwrespon"></td>
<td><input type="button" value="" name="rc2" class="kwrespon"></td>
<td><input type="button" value="" name="rc3" class="kwrespon"></td>
<td><input type="button" value="" name="rc4" class="kwrespon"></td>
</tr>
<tr>
<td><input type="button" value="" name="rd1" class="kwrespon"></td>
<td><input type="button" value="" name="rd2" class="kwrespon"></td>
<td><input type="button" value="" name="rd3" class="kwrespon"></td>
<td><input type="button" value="" name="rd4" class="kwrespon"></td>
</tr>
<tr>
<td><input type="button" value="" name="re1" class="kwrespon"></td>
<td><input type="button" value="" name="re2" class="kwrespon"></td>
<td><input type="button" value="" name="re3" class="kwrespon"></td>
<td><input type="button" value="" name="re4" class="kwrespon"></td>
</tr>
<tr>
<td><input type="button" value="" name="rf1" class="kwrespon"></td>
<td><input type="button" value="" name="rf2" class="kwrespon"></td>
<td><input type="button" value="" name="rf3" class="kwrespon"></td>
<td><input type="button" value="" name="rf4" class="kwrespon"></td>
</tr>
<tr>
<td><input type="button" value="" name="rg1" class="kwrespon"></td>
<td><input type="button" value="" name="rg2" class="kwrespon"></td>
<td><input type="button" value="" name="rg3" class="kwrespon"></td>
<td><input type="button" value="" name="rg4" class="kwrespon"></td>
</tr>
</table>
</form>

</td></tr>
</table>
<!-- bagian game : akhir ################################################## -->


</td><td width="15">&nbsp;</td><td valign="top" class="bantuan">


<!-- bagian bantuan ####################################################### -->
<b>Mainan Tebak Warna</b> Mainan ini mirip dengan <i>mastermind</i>.
Anda menebak warna yang disusun secara random oleh komputer.
Ada sebanyak 6 jenis warna yang digunakan, yaitu merah, hijau, biru, kuning,
cyan, dan magenta. Anda mempunyai kesempatan 7 kali menebak susunan
warna yang dibuat oleh komputer.
Untuk memilih warna, klik pada kotak yang sudah disediakan.
Setiap selesai menyusun satu baris warna,
klik OK untuk mendapatkan jawab tentang warna yang Anda susun.
Jawaban berupa kotak putih dan hitam. Kotak hitam artinya Anda meletakkan
sebuah warna yang benar di posisi yang juga benar. Sedangkan kotak putih artinya
Anda menebak warna dengan tepat, namun di posisi yang salah.
Misalnya jawaban dari komputer adalah satu kotak hitam, dan dua kotak putih,
artinya Anda menebak satu buah warna dengan benar, pada posisi yang benar, dan
dua buah warna lagi benar, namun di posisi yang salah.
Tombol Mulai untuk memulai permainan, dan Menyerah jika Anda merasa gagal untuk
melanjutkan.
<!-- bagian bantuan : akhir ############################################### -->


</td></tr>
</table>

<!-- Tebak Warna dengan JavaScript : yan[at]daunsalam[dot]net : januari 2006 -->
</body>
</html>
